(()=>{var{PluginBaseClass:r}=window,t=class extends r{init(){console.error("History Plugin loaded"),this.button=this.el.children["ajax-button"],this.textdiv=this.el.children["ajax-display"],this.id=this.el.children["ajax-button"].value,this._registerEvents()}_registerEvents(){this.button.onclick=this._fetch.bind(this)}async _fetch(){let i=await(await fetch("/price_history/price_change/"+this.id)).json();console.error(i)}_setContent(e){console.log(e);let i=JSON.parse(e),s="<ul>";Object.entries(i).forEach(([o,n])=>{s+="<li>"+o+": "+n.old+" to "+n.new+"</li>"}),s+="</ul>",this.textdiv.innerHTML=s}};var l=window.PluginManager;l.register("PriceHistoryPlugin",t,"[data-price-history-plugin]");})();
