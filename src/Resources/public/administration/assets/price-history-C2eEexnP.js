const o=`{% block sw_product_detail_content_tabs_additional %} {% parent %} {% block sw_product_detail_content_tabs_price_history %} <sw-tabs-item :route="{ name: 'price.history', params: { id: $route.params.id } }" title="Preisentwicklung"> Preisentwicklung </sw-tabs-item> {% endblock %} {% endblock %}`;Shopware.Component.override("sw-product-detail",{template:o});const n=`<div> <sw-card title="Preisentwicklung"> <div class="custom-chart-page"> <sw-chart :type="'line'" :series="[ { name: 'Preis', data:products }, ]" :options="{ title: { text: 'Verkaufspreis' }, xaxis: { type: 'datetime', min: minimum, {#max: 1559952000000#} }, yaxis: { min:0, tickAmount:3, labels:{ formatter: (value) => { return value } } } }" :fillEmptyValues="day" :sort="true"> </sw-chart> <sw-chart :type="'line'" :series="[ { name: 'Preis', data:[ {x:1559426400000, y:7.50}, {x:1559512800000, y:12.30}, {x:1559772000000, y:11.20}, {x:1559599200000, y:10.25}, {x:1559685600000, y:8.99}, ]}, ]" :options="{ title: { text: 'Einkaufspreis' }, xaxis: { type: 'datetime', min: 1559426400000, {#max: 1559952000000#} }, yaxis: { min:0, tickAmount:3, labels:{ formatter: (value) => { return value } } } }" :fillEmptyValues="day" :sort="true"> </sw-chart> </div> </sw-card> </div>`,{Criteria:a}=Shopware.Data;Shopware.Component.register("price-history",{template:n,inject:["repositoryFactory"],data:function(){return{minimum:void 0,products:[],result:void 0,repository:void 0}},computed:{routeId(){return this.$route.params.id},priceHistoryRepository(){return this.repositoryFactory.create("price_history")}},metaInfo(){return{title:"Preisentwicklung"}},created(){const e=new a;e.addFilter(a.equals("productId",this.routeId)),e.addSorting(a.sort("changeDate","ASC"));let t=0;this.priceHistoryRepository.search(e,Shopware.Context.api).then(i=>{i.forEach(r=>{t===0&&(this.minimum=new Date(r.createdAt).getTime()),t=t+1;let s={x:new Date(r.createdAt).getTime(),y:r.newPrice[0].gross};this.products.push(s)}),this.result=i})},methods:{}});Shopware.Module.register("af-price-watcher-tab",{routeMiddleware(e,t){const i="price.history";t.name==="sw.product.detail"&&t.children.every(r=>r.name!==i)&&t.children.push({name:i,path:"/sw/product/detail/:id/pricehistory",component:"price-history",meta:{parentPath:"sw.product.index"}}),e(t)}});
//# sourceMappingURL=price-history-C2eEexnP.js.map
